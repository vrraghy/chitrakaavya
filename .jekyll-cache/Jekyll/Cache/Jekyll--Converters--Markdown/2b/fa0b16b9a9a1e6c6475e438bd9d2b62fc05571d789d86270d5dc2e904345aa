I"0b<style>
    table {
        margin-left:auto;
        margin-right:auto;
    }
    .sator {
        width: 40%;
        text-align: center;
    }
    r { color: red }
    o { color: orange }
    img[alt="A sample Knight's Tour"] {
        margin-left:auto;
        margin-right:auto;
        width: 50%;
    }
    .paduka {
        width: 40%;
        text-align: center;
    }
    .paduka_tour {
        text-align: center;
        font-size: 1.25rem;
        font-weight: bold;
        height: 7.5rem;
    }
    canvas {
        image-rendering: -moz-crisp-edges;
        image-rendering: -webkit-crisp-edges;
        image-rendering: pixelated;
        image-rendering: crisp-edges;
        width: 100%;
        /* height: 100%; */
        margin-left:auto;
        margin-right:auto;
    }
</style>

<h2 id="sator-square">Sator Square</h2>
<p>Continuing from the <a href="/2020/04/04/chitrakaavyas/index.html">introductory post</a> with another सर्वतोभद्र, let us look at a Latin one</p>
<blockquote style="text-align:center">
  <p>sator arepo tenet opera rotas</p>

  <p>The farmer Arepo has (<em>as</em>) works wheels</p>
</blockquote>

<p>It’s not perfect, for there’s a slight grammatical error here, but it’s passable enough to be treated as a worthy सर्वतोभद्र, for the symmetry is horizontal, vertical, and also both even in reverse!</p>

<table class="sator">
  <tbody>
    <tr>
      <td>S</td>
      <td>A</td>
      <td>T</td>
      <td>O</td>
      <td>R</td>
    </tr>
    <tr>
      <td>A</td>
      <td>R</td>
      <td>E</td>
      <td>P</td>
      <td>O</td>
    </tr>
    <tr>
      <td>T</td>
      <td>E</td>
      <td>N</td>
      <td>E</td>
      <td>T</td>
    </tr>
    <tr>
      <td>O</td>
      <td>P</td>
      <td>E</td>
      <td>R</td>
      <td>A</td>
    </tr>
    <tr>
      <td>R</td>
      <td>O</td>
      <td>T</td>
      <td>A</td>
      <td>S</td>
    </tr>
  </tbody>
</table>

<h2 id="extended-rhymes-यमक">Extended Rhymes: यमक</h2>
<p>One of the easiest forms of patterns would be the end-rhymes, which is also common in English as well as modern poetry across Indian languages. Though it’s not quite common in Sanskrit, we can see extended-rhymes, where instead of rhyming the last couple of syllables, entire phrases are rhymed.</p>

<p>This verse from देवीदानवीयम् (1.1), in आर्या metre, is a good example, while its translation is by one of the great contemporary Sanskrit poets <em>Shri. Shankar Rajaraman</em> who is also a recipient of the Presidential award <em>Maharshi Badrayan Vyas Samman</em>.</p>
<blockquote style="text-align:center">
  <h3 id="प्रशिथलयतु-मे-दुरितं">प्रशिथलयतु <r>मे दुरितं</r></h3>

  <h3 id="प्रणमद्-अमर-मौलि-कुसुम-मेदुरितम्-">प्रणमद्-अमर-मौलि-कुसुम-<r>मेदुरितम्</r> ।</h3>

  <h3 id="अरुणोत्फल-चारु-चिरं">अरुणोत्फल-<o>चारु चिरं</o></h3>

  <h3 id="पद-युगम्-इशस्य-निगमवाचा-रुचिरम्-">पद-युगम् इशस्य निगमवा<o>चा रुचिरम्</o> ॥</h3>
  <p>Let the feet of Lord shiva that are resplendent with Vedic sayings, as beautiful as red lotuses and bathed in the nectar that drips from flowers adorning the heads of many deities that bow to Him, eternally slacken my sorrows.</p>
</blockquote>

<p>The meanings of Chitrakaavyas usually tend to be prosaic like describing a God / a lotus / a war / the Spring season - all of which are common in Sanskrit poetry, because as the constraints get severe, it’s harder to choose challening topics, while it eases the effort in picking well-established and hence have much vocabulary attached.</p>

<h3 id="holorimes--homophonic-compounds"><a href="https://en.wikipedia.org/wiki/Holorime">Holorimes / Homophonic Compounds</a></h3>

<p>As the name goes, a Holorime is a form of rhyme where two very similar sequences of sounds can form phrases composed of different words and with different meanings.</p>

<p><a href="https://www.youtube.com/watch?v=eqfElKkC60A">Jimi Hendrix’s Purple Haze</a> has this cheeky verse</p>
<blockquote>
  <p><em>Scuse me while I kiss the sky.</em></p>

  <p><em>Scuse me while I kiss this guy.</em></p>
</blockquote>

<p>These were were influential and widespread that these are found even in the Javanese version of Ramayana, written in the <a href="https://en.wikipedia.org/wiki/Kakawin">Kakawin</a>, modelled on the Sanskrit <a href="https://en.wikipedia.org/wiki/Bha%E1%B9%AD%E1%B9%ADik%C4%81vya">भट्टिकाव्य</a>. Similar ones are also found in चित्रबन्ध’s in Tibet, which no one has written about, but are known to exist.</p>

<p>This example had only 4 syllables repeat, but tightening this constraint further, here’s a verse from सुभाषितरत्नभाण्डाकारम् where both lines look just the same, but mean different, and makes one wonder if it’s a case of copy-paste gone wrong!</p>

<blockquote style="text-align:center">
  <h3 id="तमाखुपत्रं-राजेन्द्र-भज-माज्ञानदायकम्-">तमाखुपत्रं राजेन्द्र भज माज्ञानदायकम् ।</h3>

  <h3 id="तमाखुपत्रं-राजेन्द्र-भज-माज्ञानदायकम्--1">तमाखुपत्रं राजेन्द्र भज माज्ञानदायकम् ॥</h3>
  <p>O King! Do not consume ignorance-causing tobacco.</p>

  <p>Meditate upon Ganesha, who bestows both knowledge &amp; wealth.</p>
</blockquote>

<p>It would be a severe understatement to call the wordplay here <em>clever</em>.</p>
<blockquote>
  <p><strong>तमाखु पत्रं</strong> = tobacoo leaf; <strong>अज्ञान दायकम्</strong> = causing ignorance; <strong>मा भज</strong> = don’t consume</p>

  <p><strong>तं आखुपत्रं</strong> = Ganesha (accusative); <strong>मा</strong> = wealth/knowledge; <strong>दायकम्</strong> = giver; <strong>भज</strong> = meditate upon</p>
</blockquote>

<p>And if that was clever, this is genius, once again from <em>Kirātārjunīyam</em> (15.25!</p>
<blockquote style="text-align:center">
  <h3 id="विकाशमीयुर्जगतीशमार्गणा">विकाशमीयुर्जगतीशमार्गणा:</h3>
  <h3 id="विकाशमीयुर्जगतीशमार्गणा-">विकाशमीयुर्जगतीशमार्गणा: ।</h3>
  <h3 id="विकाशमीयुर्जगतीशमार्गणा-1">विकाशमीयुर्जगतीशमार्गणा:</h3>
  <h3 id="विकाशमीयुर्जगतीशमार्गणा--1">विकाशमीयुर्जगतीशमार्गणा: ॥</h3>
  <p>The arrows (मार्गणा:) of the king (जगतीश) Arjuna spread out (विकाशं ईयु:)</p>

  <p>The arrows (मार्गणा:) of the lord of the Earth (जगतीश) (Shiva) spread out (विकाशं ईयु:)</p>

  <p>The Gaṇas (गणा:) who are the slayers of demons (जगतीश मा:) rejoiced (विकाशं ईयु:)</p>

  <p>The seekers (मार्गणा:) of Shiva (जगतीश) (<em>i.e.</em> the deities &amp; sages) reached the sky (विकाशं ईयु) (to watch the battle)</p>
</blockquote>
<p>An amazing description of the portent battle between a God and the son of the king of Gods, watched by the sages &amp; deities alike. No wonder it’s called a <em>Mahakavya</em>!</p>

<h3 id="two-in-one">Two in one</h3>
<p>Here’s a bench at Mesopotamia Walk, Oxford, UK, with a seemingly Latin inscription, but what is instead <a href="https://en.wikipedia.org/wiki/Dog_Latin">Dog Latin</a> (fake Latin)!</p>
<blockquote>
  <h3 id="ore-stabit-fortis-arare-placet-ore-stat">ore stabit fortis arare placet ore stat</h3>
  <p>O! Rest a bit for ‘tis a rare place to rest at</p>
</blockquote>

<p>Such phrases are called भाषाभास:, <em>i.e.</em> one giving the impression of another language. Try reading this masterpiece by the great contemporary poet <em>Shri. Shankar Rajaraman</em>, preferably aloud.</p>
<blockquote style="text-align:center">
  <h3 id="गोविन्द-वार्दव-यूनो">गोविन्द वार्दव यूनो</h3>
  <h3 id="मैत्री-संसार-वेशिका-">मैत्री-संसार-वेशिका ।</h3>
  <h3 id="रसासरोबालार्कोऽसि">रसासरोबालार्कोऽसि</h3>
  <h3 id="हरीशोऽसूनवेट्दरम्-">हरीशोऽसूनवेट्दरम् ॥</h3>
  <p>O Krishna! O Lord! O you that put out the forest fire as if you were water to it!</p>

  <p>Know that the youth of today has a fondeness for what is materialistic.</p>

  <p>O you that are the rising Sun to the lotus-lake that is Sri (Lakshmi)!</p>

  <p>O you that are the master of Indra even! Please offer some protection, at the least.</p>
</blockquote>
<details><summary>Now, expand this &amp; read it aloud!</summary>
    <blockquote>
        <center><i>
        Go! Win the war the way you know<br />
        My three sons are away shikar<br />
        Amass a robe, all are cosy<br />
        Hurry! Show soon, await the rum.
        </i></center>
    </blockquote>
</details>

<p>Since they sound the same in multiple languages, they’re called भाषासम - quite straightforward, if you ask me. Similar ones <a href="https://www.futilitycloset.com/2010/10/16/forked-tongues/">have been written</a> for Italian-Latin and even Italian-Latin-Portuguese!</p>

<h3 id="भाषाश्लेश">भाषाश्लेश</h3>
<p>Another classical Two-in-One from antiquity is the entire Chapter 19 of कप्फिनाभ्युदय by शिवस्वामी of Kashmir, which can be read in both Prakrit &amp; Sanskrit, and also mean different.</p>

<h2 id="todo">TODO</h2>

<p>One of the unresolved challenges in the field - this amazing feature was completely unknown until Michael Hahn discovered it in 2007. A manuscript with a commentary on this work is said to be preserved in China, which might help us unravel these better.</p>

<h3 id="knights-tour--तुरगपदपाठ"><a href="https://en.wikipedia.org/wiki/Knight%27s_tour">Knight’s Tour</a> / तुरगपदपाठ</h3>
<p>Chess enthusiasts or students of Computer Science might be familiar with this - given a knight on a chessboard, the challenge is to traverse the entire board, visiting every square only once.</p>

<p><a href="https://images.chesscomfiles.com/uploads/v1/images_users/tiny_mce/PedroPinhata/phpbfKABy.gif"><img src="https://images.chesscomfiles.com/uploads/v1/images_users/tiny_mce/PedroPinhata/phpbfKABy.gif" alt="A sample Knight's Tour" /></a></p>

<p><a href="https://en.wikipedia.org/wiki/Vedanta_Desika">Swami Vedanta Desika</a>, a prolific multi-linugual poet-saint of the 13th c. CE, employs this in his Paduka Sahasram - an epic poem with 1008 verses on the sandals of Lord Ranganatha of Srirangam! The verses 929 &amp; 930 are composed of the same letters, but mean different before &amp; after the tour.</p>

<blockquote style="text-align:center">
  <h3 id="स्थिरागसां-सदाराध्या-विहताकततामता-">स्थिरागसां सदाराध्या विहताकततामता ।</h3>

  <h3 id="सत्पादुके-सरसा-मा-रङ्गराजपदं-नय-">सत्पादुके सरसा मा रङ्गराजपदं नय ॥</h3>
  <p>Oh, the sacred sandals of the Brahman, you are always adorned by those who have committed unpardonable sins; you remove all that is sorrowful and unwanted; you create a musical sound; (be pleased) and lead me to the feet of Lord Rangaraja (Rama)”</p>
</blockquote>

<table class="paduka">
  <tbody>
    <tr>
      <td>स्थि</td>
      <td>रा</td>
      <td>ग</td>
      <td>सां</td>
      <td>स</td>
      <td>दा</td>
      <td>रा</td>
      <td>ध्या</td>
    </tr>
    <tr>
      <td>वि</td>
      <td>ह</td>
      <td>ता</td>
      <td>क</td>
      <td>त</td>
      <td>ता</td>
      <td>म</td>
      <td>ता</td>
    </tr>
    <tr>
      <td>स</td>
      <td>त्पा</td>
      <td>दु</td>
      <td>के</td>
      <td>स</td>
      <td>र</td>
      <td>सा</td>
      <td>मा</td>
    </tr>
    <tr>
      <td>रं</td>
      <td>ग</td>
      <td>रा</td>
      <td>ज</td>
      <td>प</td>
      <td>द</td>
      <td>न्न</td>
      <td>य</td>
    </tr>
  </tbody>
</table>

<p>Tracing the route, we get</p>
<blockquote class="paduka_tour">

</blockquote>
<p>…meaning</p>
<blockquote style="text-align:center">
  <p>The sandals which protect those who shine by their right attitude, whose place is in the center of the blissful rays, which destroy the melancholy of the distressed, whose radiance brings peace to those who take refuge in them, which move everywhere— may those golden and radiating sandals of the Brahman lead me to the feet of the Lord Rangaraja (Rama).</p>
</blockquote>

<p>The earliest such work is found in <a href="https://en.wikipedia.org/wiki/Rudrata#Kavyalankara">Kāvyālaṅkāra</a> from 9th c. CE Kashmir! <a href="https://en.wikipedia.org/wiki/Donald_Knuth">Donald Knuth</a>, a renowned computer scientist &amp; mathematician, has also <a href="https://www.iiitb.ac.in/CSL/projects/Chitrakavya/visuals.html">written</a> not one but two such in English - divided by millenia, united by brilliance!</p>

<h3 id="चक्रबन्ध">चक्रबन्ध</h3>
<blockquote style="text-align:center">
  <h3 id="ततोऽसौ-शर्वाणी-चरणमुरसि-न्यस्य-नाकस्य-शत्रो">ततोऽसौ शर्वाणी चरणमुरसि न्यस्य नाकस्य शत्रो</h3>
  <h3 id="स्तमेणाङ्कज्योतिर्घटितमुकुटा-निघ्नती-वेपमानम्-">स्तमेणाङ्कज्योतिर्घटितमुकुटा निघ्नती वेपमानम् ।</h3>
  <h3 id="शुनासीरश्लाघावचनमुदिता-दैत्यदौर्बल्यदूती">शुनासीरश्लाघावचनमुदिता दैत्यदौर्बल्यदूती</h3>
  <h3 id="बभावास्यच्छायाविजितमुकुरश्रीः-सुधान्धःपरीता-">बभावास्यच्छायाविजितमुकुरश्रीः सुधान्धःपरीता ॥</h3>
  <p>Goddess Durga, her crown shining in the light of the moon, a messenger of misery and loss of power to the asura folks, then placed her foot on the chest of the demon. She killed him who was trembling in fear, shone all the more as she heard her pleasing eulogy sung by Indra. Surrounded by demigods, she now put a mirror to shame with her countenance that had abandoned anger for serenity.</p>
</blockquote>

<center><canvas id="chakra"></canvas></center>

<p>For any corrections/suggestions/feedback, please reach out to <a href="https://twitter.com/vrraghy">@vrraghy</a>.</p>

<script>
    paduka=document.getElementsByClassName('paduka')[0];
    paduka_tour=document.getElementsByClassName('paduka_tour')[0];
    // parent_table=document.getElementsByClassName('parent_table')[0];
    // parent_table.rows[0].cells[0].appendChild(paduka);
    // paduka_tour=parent_table.rows[0].cells[1];
    // paduka_tour.style="text-align: center;";

    // Declare positions
    order=[
        [1,30,9,20,3,24,11,26],
        [16,19,2,29,10,27,4,23],
        [31,8,17,14,21,6,25,12],
        [18,15,32,7,28,13,22,5]
    ]
    pos=[];
    // Denote positions
    for (i=0; i<4; i++) {
        row=paduka.rows[i];
        for (j=0; j<8; j++) {
            row.cells[j].innerHTML = row.cells[j].innerHTML + "<br>" + order[i][j];
        }
    }
    // Get route
    for (i=0; i<32; i ++) {
        row = order.findIndex(row => row.includes(i+1));
        col = order[row].indexOf(i+1);
        pos[i] = [row, col];
    }
    // Highlight
    function highlight_val(n) {
        // Clear highlight
        if (n < 0) {
            for (i=0; i<4; i++) {
                row=paduka.rows[i];
                for (j=0; j<8; j++) {
                    row.cells[j].style="background-color:;";
                }
            }
            paduka_tour.innerText = "";
        }
        // highlight
        else {
            row=pos[n][0];
            col=pos[n][1];
            paduka.rows[row].cells[col].style="background-color:blue;";
            ch = paduka.rows[row].cells[col].innerText.match('(.*)\n')[1];
            paduka_tour.innerText = paduka_tour.innerText  + " " + ch;
        }
    }
    index=0;
    function set_colour() {
        highlight_val(index);
        index++;
        if (index != 0 &&index%8 == 0) {paduka_tour.innerHTML = paduka_tour.innerHTML + '<br>' }
        if (index > 31) index = -1;
    }
    setInterval(set_colour, 100);

    // CHAKRA
    lines = [
        'त तोऽ सौ श र्वा णी च र ण मु र सि न्य स्य ना क स्य श त्रो',
        'स्त मे णा ङ्क ज्यो ति र्घ टि त मु कु टा नि घ्न ती वे प मा नम्',
        'शु ना सी र श्ला घा व च न मु दि ता दै त्य दौ र्ब ल्य दू ती',
        'ब भा वा स्य च्छा या वि जि त मु कु र श्रीः सु धा न्धः प री ता'
    ];
    // source: https://web.dev/canvas-hidipi/
    function setupCanvas(canvas) {
        var dpr = window.devicePixelRatio || 1;
        var rect = canvas.getBoundingClientRect();
        canvas.width = rect.width * dpr;
        canvas.height = rect.height * dpr;
        var ctx = canvas.getContext('2d');
        ctx.scale(dpr, dpr);
        return ctx;
    }
    
    function chakra_init() {
        chakra.height = chakra.width;
        ctx.fillStyle = '';
        ctx.fillRect(0, 0, chakra.width, chakra.height);
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillStyle = '#ffffff';
        ctx.strokeStyle = '#ffffff';
        default_font_size = Number(window.getComputedStyle(document.body).getPropertyValue('font-size').match(/\d+/)[0])
        default_font = default_font_size +10+ "px Arial";
        ctx.font = default_font;
        o_x = chakra.width/2;
        o_y = chakra.width/2;
        // move origin to center
        ctx.translate(o_x, o_y);
        // optimal step (around 40)
        step = chakra.width/19;
        r = (lines[0].split(' ').length-1)/2*step;
        ctx.save();
    }

    chakra = document.getElementById('chakra');
    var ctx = setupCanvas(chakra);
    chakra_init();

    function drawChars(line, spoke) {
        line_chars = line.split(' ');
        r = (line_chars.length - 1) * step / 2;
        // -1 for clockwise
        theta = -1 * spoke * Math.PI / 4;
        for (j = 0; j < line_chars.length; j++) {
            x = r * Math.sin(theta);
            y = r * Math.cos(theta);
            // Highlight the message
            if (j==3 || j==15) {
                ctx.font = default_font_size+25+"px Arial";
                ctx.fillStyle = "#ffff00";
            }
            else {
                ctx.font = default_font;
                ctx.fillStyle = "#ffffff";
            }
            ctx.fillText(line_chars[j], x, y);
            r = r - step;
        }
    }

    function drawChars2(line, spoke, char_num) {
        line_chars = line.split(' ');
        r = (line_chars.length - 1) * step / 2;
        // -1 for clockwise
        theta = -1 * spoke * Math.PI / 4;
        // for (j = 0; j < line_chars.length; j++) {
            x = r * Math.sin(theta);
            y = r * Math.cos(theta);
            // Highlight the message
            if (char_num==3 || char_num==15) {
                ctx.font = default_font_size+25+"px Arial";
                ctx.fillStyle = "#ffff00";
            }
            else {
                ctx.font = default_font;
                ctx.fillStyle = "#ffffff";
            }
            ctx.fillText(line_chars[j], x, y);
            r = r - step;
        // }
    }

    function drawCircle (r) {
        ctx.beginPath();
        ctx.arc(0, 0, r, 0, 2 * Math.PI);
        ctx.stroke();
    }

    // highlight the message
    function drawMessageSpoke() {
        ctx.lineWidth = 3;
        ctx.setLineDash([5, 10]);
        drawCircle(6*step);
    }

    function drawSpoke(theta, spoke, spoke_diff) {
        start_x = step * Math.cos(theta + spoke_diff);
        start_y = step * Math.sin(theta + spoke_diff);
        rcos = (r - step/2) * Math.cos(theta);
        rsin = (r - step/2) * Math.sin(theta);
        ctx.beginPath();
        ctx.moveTo(start_x, start_y);
        ctx.lineTo(start_x + rcos, start_y + rsin);
        ctx.stroke();
    }

    function drawSpokes (spoke) {
        theta = (spoke * Math.PI/4);
        spoke_diff = Math.PI/8;
        drawSpoke(theta, spoke, spoke_diff); // to the right
        drawSpoke(theta, spoke, -spoke_diff); // to the left
    }

    function drawWheelOutline() {
        n=parseInt(lines[0].split(' ').length/2);
        ctx.setLineDash([]);
        drawCircle(step/2); // center
        drawCircle(step * (n - 0.5)); // inner
        drawCircle(step * (n + 0.5)); // outer
        for (i=0; i< 8; i++) {
            drawSpokes(i);
        }
    }
    
    // let lineNum=parseInt(-2);
    // setInterval(function () {
    //     if (lineNum == -2) {
    //         ctx.restore();
    //         ctx.fillStyle = '#000000';
    //         ctx.fillRect(0-chakra.width/2,0-chakra.height/2,chakra.width,chakra.height);
    //     }
    //     else if (lineNum == -1) {
    //         chakra_init();
    //         drawWheelOutline();
    //     }
    //     else if (lineNum == 4) {
    //         drawMessageSpoke();
    //     }
    //     else {
    //         drawChars(lines[lineNum], 4 + lineNum, false);
    //     }
    //     lineNum = parseInt(lineNum + 1);
    //     if (lineNum == 5) lineNum=-2;
    // }, 1000)
    
    let lineNum=parseInt(-2);
    setInterval(function () {
        if (lineNum == -2) {
            ctx.restore();
            ctx.fillStyle = '#000000';
            ctx.fillRect(0-chakra.width/2,0-chakra.height/2,chakra.width,chakra.height);
        }
        else if (lineNum == -1) {
            chakra_init();
            drawWheelOutline();
        }
        else if (lineNum == 4) {
            drawMessageSpoke();
        }
        // else {
        //     drawChars(lines[lineNum], 4 + lineNum, false);
        // }
        // else {
        //     drawChars2(lines[lineNum], 4 + lineNum, false);
        // }
        lineNum = parseInt(lineNum + 1);
        if (lineNum == 5) lineNum=-2;
    }, 1000)
    

    // SATOR
    sator=document.getElementsByClassName('sator')[0];
    colours=['grey','green','blue','limegreen','black'];

    function high_none () {
        sator.style.backgroundColor = "";
    }

    function high_line (index) {
        cols=sator.rows[index].querySelectorAll('td');
        for (j=0; j < 5; j++) {
            cols[j].style.backgroundColor = colours[j];
        }
    }

    function high_col (index) {
        cells = sator.getElementsByTagName('td');
        for (j=0; j < 5; j++) {
            cells[(5*j) + index].style.backgroundColor = colours[j];
        }
    }

    // counter=0;
    // setInterval(function() {
    //     if (counter == 0) {
    //         high_none();
    //         counter++;
    //     }
    //     else if (counter == 1) {
    //         high_line(1);
    //         high_col(1);
    //         counter++;
    //     }
    //     else if (counter == 2) {
    //         high_line(2);
    //         high_col(2);
    //         counter++;
    //     }
    //     else if (counter == 3) {
    //         high_line(3);
    //         high_col(3);
    //         counter++;
    //     }
    //     else if (counter == 4) {
    //         high_line(4);
    //         high_col(4);
    //         counter = 0;
    //     }
    // }, 500);

</script>

:ET